<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SHAKIL GLOBAL</title>
  <meta name="description" content="ENJOY FREE LIVE IPTV">
  <meta name="keywords" content="Watch live sports streaming online, including football, basketball, baseball, hockey, and more.">
  <meta name="author" content="Mostak Vai">
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link rel="shortcut icon" href="https://i.ibb.co/XpXz3b1/Picsart-24-10-15-01-07-11-687.png" type="image/x-icon">

  <!-- Plyr Styles -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/plyr@3.6.2/dist/plyr.css">
  <script src="https://cdn.jsdelivr.net/npm/plyr@3.6.12/dist/plyr.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/hls.js@1.1.4/dist/hls.min.js"></script>

  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background-color: #181818;
      color: #fff;
      margin: 0;
      padding: 0;
      transition: all 0.3s ease-in-out;
      animation: fadeIn 1s ease-in-out;
    }

    .light-theme {
      background-color: #f9f9f9;
      color: #000;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .navbar {
      background: #222;
      padding: 10px 20px;
      text-align: center;
      position: sticky;
      top: 0;
      z-index: 1000;
      box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.8);
    }

    .navbar h1 {
      color: #4CAF50;
      margin: 0;
      font-size: 1.8rem;
      text-shadow: 0 0 10px #4CAF50;
    }

    .theme-toggle {
      position: absolute;
      top: 10px;
      right: 10px;
      cursor: pointer;
      background: #4CAF50;
      color: #fff;
      border: none;
      padding: 5px 10px;
      border-radius: 5px;
      box-shadow: 0 0 15px rgba(76, 175, 80, 0.5);
      transition: background 0.3s, transform 0.3s;
    }

    .theme-toggle:hover {
      background: #45a049;
      transform: scale(1.1);
    }

    .container {
      display: flex;
      flex-direction: row;
      gap: 20px;
      margin: 20px;
    }

    .channel-list {
      flex: 1;
      max-width: 250px;
      background: #333;
      padding: 10px;
      border-radius: 10px;
      box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.3);
      max-height: 500px;
      overflow-y: auto;
      animation: slideIn 1s ease-in-out;
    }

    @keyframes slideIn {
      from {
        transform: translateX(-10px);
        opacity: 0;
      }
      to {
        transform: translateX(0);
        opacity: 1;
      }
    }

    .channel-list h2 {
      text-align: center;
      margin-bottom: 15px;
      color: #4CAF50;
      text-shadow: 0 0 10px #4CAF50;
    }

    .search-bar {
      margin-bottom: 15px;
      display: flex;
    }

    .search-bar input {
      flex: 1;
      padding: 5px;
      border: 1px solid #4CAF50;
      border-radius: 5px;
      outline: none;
      transition: box-shadow 0.3s;
    }

    .search-bar input:focus {
      box-shadow: 0 0 10px #4CAF50;
    }

    .search-bar button {
      margin-left: 5px;
      padding: 5px 10px;
      background: #4CAF50;
      color: #fff;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      transition: background 0.3s, transform 0.3s;
    }

    .search-bar button:hover {
      background: #45a049;
      transform: scale(1.05);
    }

    .channel-list a {
      display: flex;
      align-items: center;
      padding: 10px;
      background: #444;
      margin-bottom: 10px;
      border-radius: 5px;
      text-decoration: none;
      color: #fff;
      transition: transform 0.3s, box-shadow 0.3s;
    }

    .channel-list a:hover {
      transform: scale(1.05);
      box-shadow: 0 0 15px #4CAF50;
    }

    .channel-list a img {
      width: 50px;
      height: 50px;
      margin-right: 10px;
      border-radius: 50%;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
    }

    .video-player {
      flex: 3;
      background: #1a1a1a;
      padding: 20px;
      border-radius: 15px;
      box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.5);
      animation: fadeIn 1s ease-in-out;
    }

    .video-player video {
      width: 100%;
      height: 100%;
      max-height: 500px;
      border-radius: 10px;
      border: 2px solid #4CAF50;
      box-shadow: 0 0 15px #4CAF50;
      transition: transform 0.3s;
    }

    .video-player video:hover {
      transform: scale(1.02);
    }

    .footer {
      text-align: center;
      padding: 10px;
      background: #222;
      color: #ccc;
      box-shadow: 0px -4px 8px rgba(0, 0, 0, 0.5);
    }

    @media (max-width: 768px) {
      .container {
        flex-direction: column;
      }
    }
  </style>
</head>

<body>
  <div class="navbar">
    <h1>SHAKIL GLOBAL LIVE TV</h1>
    <button class="theme-toggle" onclick="toggleTheme()">Toggle Theme</button>
  </div>

  <div class="container">
    <div class="channel-list">
      <h2>Channels</h2>
      <div class="search-bar">
        <input type="text" id="searchInput" placeholder="Search channels">
        <button onclick="searchChannels()">Find</button>
      </div>
      <div>
        <label for="playlistSelect" style="font-weight: bold;">Select Playlist:</label>
        <select id="playlistSelect" onchange="loadSelectedPlaylist()" style="transition: transform 0.3s, box-shadow 0.3s; padding: 5px; border: 2px solid #4CAF50; border-radius: 5px; background: #222; color: #fff;">
         <option value="https://raw.githubusercontent.com/hdoktvltd/hd-live.tv/refs/heads/main/playlist.m3u">Playlist 1</option>
          <option value="https://raw.githubusercontent.com/hmripon66/Indian-Bangla-IPTV-by-Tech-edu-byte/main/Bangla%20IPTV%20by%20Tech%20Edu%20Byte.m3u8?utm_medium=social&utm_source=heylink.me">Playlist 2</option>
         
          
                 <option value="https://raw.githubusercontent.com/reklamalinir/freeadultiptv/refs/heads/master/live_adult_channels.m3u">Play 1</option>
           <option value="https://raw.githubusercontent.com/Asadullah4-web/Ip-tv/refs/heads/main/SUPERIPTV.m3u">Play 1</option>
           <option value="https://fifabd.site/MACx/TATACC/tatacc.m3u">Play 1</option>
        </select>
      </div>
      <div id="channelList"></div>
    </div>

    <div class="video-player">
      <video id="videoPlayer" controls crossorigin playsinline autoplay>
        <source id="videoSource" type="application/vnd.apple.mpegurl" src="">
      </video>
    </div>
  </div>

  <div class="footer">
    <p>Â© 2025 shakil global tv. All rights reserved.</p>
  </div>

  <script>
    let channels = [];

    async function loadChannels(playlistUrl) {
      try {
        const response = await fetch(playlistUrl);
        const data = await response.text();

        const lines = data.split('\n');
        channels = [];
        for (let i = 0; i < lines.length; i++) {
          if (lines[i].startsWith('#EXTINF:')) {
            const name = lines[i].split(',')[1] || 'Unknown Channel';
            const logoMatch = lines[i].match(/tvg-logo="(.*?)"/);
            const logo = logoMatch ? logoMatch[1] : 'https://via.placeholder.com/50';
            const url = lines[i + 1] ? lines[i + 1].trim() : null;
            if (url) channels.push({ name, url, logo });
          }
        }
        displayChannels(channels);
      } catch (error) {
        console.error('Error loading channels:', error.message);
        alert('Unable to load channels. Please check the playlist URL.');
      }
    }

    function displayChannels(channelList) {
      const listContainer = document.getElementById('channelList');
      listContainer.innerHTML = '';
      channelList.forEach(channel => {
        const channelButton = document.createElement('a');
        channelButton.href = "#";
        channelButton.onclick = (e) => {
          e.preventDefault();
          playVideo(channel.url);
        };

        const logo = document.createElement('img');
        logo.src = channel.logo;

        const name = document.createElement('span');
        name.textContent = channel.name;

        channelButton.appendChild(logo);
        channelButton.appendChild(name);
        listContainer.appendChild(channelButton);
      });
    }

    function playVideo(url) {
      const videoPlayer = document.getElementById('videoPlayer');
      if (Hls.isSupported()) {
        const hls = new Hls();
        hls.loadSource(url);
        hls.attachMedia(videoPlayer);
      } else {
        videoPlayer.src = url;
      }
    }

    function searchChannels() {
      const searchTerm = document.getElementById('searchInput').value.toLowerCase();
      const filteredChannels = channels.filter(channel => channel.name.toLowerCase().includes(searchTerm));
      displayChannels(filteredChannels);
    }

    async function loadSelectedPlaylist() {
      const playlistSelect = document.getElementById('playlistSelect');
      const selectedPlaylist = playlistSelect.value;

      // Add animation effect
      playlistSelect.style.transform = "scale(1.1)";
      playlistSelect.style.boxShadow = "0 0 20px #4CAF50";

      setTimeout(() => {
        playlistSelect.style.transform = "scale(1)";
        playlistSelect.style.boxShadow = "none";
      }, 300);

      // Load channels for the selected playlist
      await loadChannels(selectedPlaylist);

      // Highlight the selected playlist visually
      [...playlistSelect.options].forEach(option => {
        option.style.background = "#222"; // Reset all options
        option.style.color = "#fff";
      });
      playlistSelect.options[playlistSelect.selectedIndex].style.background = "#4CAF50";
      playlistSelect.options[playlistSelect.selectedIndex].style.color = "#fff";
    }

    function toggleTheme() {
      const body = document.body;
      body.classList.toggle('light-theme');
      localStorage.setItem('theme', body.classList.contains('light-theme') ? 'light' : 'dark');
    }

    window.onload = () => {
      if (localStorage.getItem('theme') === 'light') {
        document.body.classList.add('light-theme');
      }
      const defaultPlaylist = document.getElementById('playlistSelect').value;
      loadChannels(defaultPlaylist);
    };
  </script>
</body>

  </html>
